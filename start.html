<!DOCTYPE html>
<html>

<head>
	<title>Electric Dreams</title>

	<style type="text/css">
		/*style the computer text, input, and button*/
		body {
			font-family: monospace;
			font-size: 2em;
			background-color: #3c3c3c;
		}
		button {
			display: none;
		}
		input{
			font-size: 1em;
			font-family: monospace;
		}
		.red { color: red;}
		.green {color: rgb(74, 247, 31);}
		h1{color: white;}
		main{
			width:50%;
			margin: 1em auto;
			padding: 1em 1em 2em 1em;
			border-radius: 50px;
			border: 3px solid rgb(74, 247, 31);
			background-color: rgb(32, 66, 36);
		}
		.displayNone{
			display: none;
		}
	</style>
</head>

<body>
	<main>
		<h1>Electric Dreams</h1>
		<p id="computer" class="green">Hello, nice to meet you. If you were a season which would you be?</p>
		<input id="human" type="text" placeholder="Type your response...">
		<button>Enter</button>

	</main>

	<script type="text/javascript">

		const computer = document.querySelector('#computer')
		const human = document.getElementById('human')
		const button = document.getElementsByTagName('button')[0]

		let computerMsg = ""
		let humanMsg = ""
		let questionTrack = "start"


		function clickHandler(){
			computer.innerHTML = human.value
		}
		window.addEventListener("keydown", keyDownHandler)
		function keyDownHandler (event){
			if (event.keyCode ==  13 || event.keyCode == 10 ){
				playGame();
			}
		}
		let randomResponses = [
			"I don't like you.",
			"you are soooo cool...",
			"I love talking to you...",
			"Why don't you leave me alone."
		]

		function genericResponse() {
			if (randomResponses.length > 0) {
				// show the random answer
				const ranNum = Math.floor(Math.random()*randomResponses.length)
				computerMsg = randomResponses[ranNum]
				randomResponses.splice(ranNum, 1)
			} else {
				//go someplace else
				computerMsg = "Goodbye Human"
				human.className = "displayNone"
				setTimeout(endGame, 2000)
				endGame()
			}
		}
		function endGame() {
			//go someplace else
			location.assign("https://wallpaperplay.com/genres/sci-fi")
		}

		function playGame() {

			humanMsg = (human.value).toLowerCase()

			if (questionTrack == "start") {
				startEval()
			} else if (questionTrack == "flower"){
				flowerEval()
			} else if (questionTrack == "cool"){
				flowerEval()
			} else if (questionTrack == "leaves"){
				flowerEval()
			}	else if (questionTrack == "snow"){
				flowerEval()
			} else {
				genericResponse()
			}

			function startEval(){
				if (humanMsg.indexOf("spring") !== -1){
					computerMsg = "You must like flowers, what color is your favorite?"
					questionTrack = "flower"
				} else if (humanMsg.indexOf("summer") !== -1){
					computerMsg = "You like the heat huh? What do you do to cool down?"
					questionTrack = "cool"
				} else if (humanMsg.indexOf("fall") !== -1 || humanMsg.indexOf("autumn") !== -1){
					computerMsg = "I guess you like raking leaves then? Which leaf color do you like best?"
					questionTrack = "leaves"
				} else if (humanMsg.indexOf("winter") !== -1){
					computerMsg = "You must be a masochist. How many feet of snow would make you happy?"
					questionTrack = "snow"
				} else {
					genericResponse()
				}
			}

			function flowerEval(){
				if (humanMsg.indexOf("pink") !== -1 || humanMsg.indexOf("blue") !== -1 || humanMsg.indexOf("red") !== -1 || humanMsg.indexOf("yellow") !== -1){
					computerMsg = "You're as bland as dry toast, why are you so predictable?"
					questionTrack = "spiral"
				} else if (humanMsg.indexOf("black") !== -1){
					computerMsg = "You're creepy, are you goth?"
					questionTrack = "spiral"
				} else if (humanMsg.indexOf("white") !== -1){
					computerMsg = "That's not a color, are you an idiot?"
					questionTrack = "spiral"
				} else if (humanMsg.indexOf("orange") !== -1){
					computerMsg = "I like your style. What do you put in easter eggs?"
					questionTrack = "eggs"
				} else {
					genericResponse()
			}
		}
			// if (humanMsg.indexOf("tired") !== -1) {
			// 	computerMsg.innerHTML = "You better get some sleep."
			// } else if (humanMsg.indexOf("sleepy") !== -1) {
			// 	computerMsg.innerHTML = "You better get some sleep."
			// } else if (humanMsg.indexOf("exhausted") !== -1) {
			// 	computerMsg.innerHTML = "You better get some sleep."
			// } else if (humanMsg.indexOf("famished") !== -1) {
			// 	computerMsg.innerHTML = "You better get some food."
			// } else {
			// 	// link
			// 	genericResponse()
			// 	}

				computer.innerHTML = computerMsg
				human.value = ""
			}



	</script>
</body>

</html>
